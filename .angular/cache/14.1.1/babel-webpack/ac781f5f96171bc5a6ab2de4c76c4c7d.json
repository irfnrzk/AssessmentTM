{"ast":null,"code":"import { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nexport function debounceTime(dueTime, scheduler = async) {\n  return source => source.lift(new DebounceTimeOperator(dueTime, scheduler));\n}\n\nclass DebounceTimeOperator {\n  constructor(dueTime, scheduler) {\n    this.dueTime = dueTime;\n    this.scheduler = scheduler;\n  }\n\n  call(subscriber, source) {\n    return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n  }\n\n}\n\nclass DebounceTimeSubscriber extends Subscriber {\n  constructor(destination, dueTime, scheduler) {\n    super(destination);\n    this.dueTime = dueTime;\n    this.scheduler = scheduler;\n    this.debouncedSubscription = null;\n    this.lastValue = null;\n    this.hasValue = false;\n  }\n\n  _next(value) {\n    this.clearDebounce();\n    this.lastValue = value;\n    this.hasValue = true;\n    this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n  }\n\n  _complete() {\n    this.debouncedNext();\n    this.destination.complete();\n  }\n\n  debouncedNext() {\n    this.clearDebounce();\n\n    if (this.hasValue) {\n      const {\n        lastValue\n      } = this;\n      this.lastValue = null;\n      this.hasValue = false;\n      this.destination.next(lastValue);\n    }\n  }\n\n  clearDebounce() {\n    const debouncedSubscription = this.debouncedSubscription;\n\n    if (debouncedSubscription !== null) {\n      this.remove(debouncedSubscription);\n      debouncedSubscription.unsubscribe();\n      this.debouncedSubscription = null;\n    }\n  }\n\n}\n\nfunction dispatchNext(subscriber) {\n  subscriber.debouncedNext();\n}","map":{"version":3,"names":["Subscriber","async","debounceTime","dueTime","scheduler","source","lift","DebounceTimeOperator","constructor","call","subscriber","subscribe","DebounceTimeSubscriber","destination","debouncedSubscription","lastValue","hasValue","_next","value","clearDebounce","add","schedule","dispatchNext","_complete","debouncedNext","complete","next","remove","unsubscribe"],"sources":["C:/Project/AngularApp/node_modules/rxjs/_esm2015/internal/operators/debounceTime.js"],"sourcesContent":["import { Subscriber } from '../Subscriber';\r\nimport { async } from '../scheduler/async';\r\nexport function debounceTime(dueTime, scheduler = async) {\r\n    return (source) => source.lift(new DebounceTimeOperator(dueTime, scheduler));\r\n}\r\nclass DebounceTimeOperator {\r\n    constructor(dueTime, scheduler) {\r\n        this.dueTime = dueTime;\r\n        this.scheduler = scheduler;\r\n    }\r\n    call(subscriber, source) {\r\n        return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\r\n    }\r\n}\r\nclass DebounceTimeSubscriber extends Subscriber {\r\n    constructor(destination, dueTime, scheduler) {\r\n        super(destination);\r\n        this.dueTime = dueTime;\r\n        this.scheduler = scheduler;\r\n        this.debouncedSubscription = null;\r\n        this.lastValue = null;\r\n        this.hasValue = false;\r\n    }\r\n    _next(value) {\r\n        this.clearDebounce();\r\n        this.lastValue = value;\r\n        this.hasValue = true;\r\n        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\r\n    }\r\n    _complete() {\r\n        this.debouncedNext();\r\n        this.destination.complete();\r\n    }\r\n    debouncedNext() {\r\n        this.clearDebounce();\r\n        if (this.hasValue) {\r\n            const { lastValue } = this;\r\n            this.lastValue = null;\r\n            this.hasValue = false;\r\n            this.destination.next(lastValue);\r\n        }\r\n    }\r\n    clearDebounce() {\r\n        const debouncedSubscription = this.debouncedSubscription;\r\n        if (debouncedSubscription !== null) {\r\n            this.remove(debouncedSubscription);\r\n            debouncedSubscription.unsubscribe();\r\n            this.debouncedSubscription = null;\r\n        }\r\n    }\r\n}\r\nfunction dispatchNext(subscriber) {\r\n    subscriber.debouncedNext();\r\n}\r\n"],"mappings":"AAAA,SAASA,UAAT,QAA2B,eAA3B;AACA,SAASC,KAAT,QAAsB,oBAAtB;AACA,OAAO,SAASC,YAAT,CAAsBC,OAAtB,EAA+BC,SAAS,GAAGH,KAA3C,EAAkD;EACrD,OAAQI,MAAD,IAAYA,MAAM,CAACC,IAAP,CAAY,IAAIC,oBAAJ,CAAyBJ,OAAzB,EAAkCC,SAAlC,CAAZ,CAAnB;AACH;;AACD,MAAMG,oBAAN,CAA2B;EACvBC,WAAW,CAACL,OAAD,EAAUC,SAAV,EAAqB;IAC5B,KAAKD,OAAL,GAAeA,OAAf;IACA,KAAKC,SAAL,GAAiBA,SAAjB;EACH;;EACDK,IAAI,CAACC,UAAD,EAAaL,MAAb,EAAqB;IACrB,OAAOA,MAAM,CAACM,SAAP,CAAiB,IAAIC,sBAAJ,CAA2BF,UAA3B,EAAuC,KAAKP,OAA5C,EAAqD,KAAKC,SAA1D,CAAjB,CAAP;EACH;;AAPsB;;AAS3B,MAAMQ,sBAAN,SAAqCZ,UAArC,CAAgD;EAC5CQ,WAAW,CAACK,WAAD,EAAcV,OAAd,EAAuBC,SAAvB,EAAkC;IACzC,MAAMS,WAAN;IACA,KAAKV,OAAL,GAAeA,OAAf;IACA,KAAKC,SAAL,GAAiBA,SAAjB;IACA,KAAKU,qBAAL,GAA6B,IAA7B;IACA,KAAKC,SAAL,GAAiB,IAAjB;IACA,KAAKC,QAAL,GAAgB,KAAhB;EACH;;EACDC,KAAK,CAACC,KAAD,EAAQ;IACT,KAAKC,aAAL;IACA,KAAKJ,SAAL,GAAiBG,KAAjB;IACA,KAAKF,QAAL,GAAgB,IAAhB;IACA,KAAKI,GAAL,CAAS,KAAKN,qBAAL,GAA6B,KAAKV,SAAL,CAAeiB,QAAf,CAAwBC,YAAxB,EAAsC,KAAKnB,OAA3C,EAAoD,IAApD,CAAtC;EACH;;EACDoB,SAAS,GAAG;IACR,KAAKC,aAAL;IACA,KAAKX,WAAL,CAAiBY,QAAjB;EACH;;EACDD,aAAa,GAAG;IACZ,KAAKL,aAAL;;IACA,IAAI,KAAKH,QAAT,EAAmB;MACf,MAAM;QAAED;MAAF,IAAgB,IAAtB;MACA,KAAKA,SAAL,GAAiB,IAAjB;MACA,KAAKC,QAAL,GAAgB,KAAhB;MACA,KAAKH,WAAL,CAAiBa,IAAjB,CAAsBX,SAAtB;IACH;EACJ;;EACDI,aAAa,GAAG;IACZ,MAAML,qBAAqB,GAAG,KAAKA,qBAAnC;;IACA,IAAIA,qBAAqB,KAAK,IAA9B,EAAoC;MAChC,KAAKa,MAAL,CAAYb,qBAAZ;MACAA,qBAAqB,CAACc,WAAtB;MACA,KAAKd,qBAAL,GAA6B,IAA7B;IACH;EACJ;;AAnC2C;;AAqChD,SAASQ,YAAT,CAAsBZ,UAAtB,EAAkC;EAC9BA,UAAU,CAACc,aAAX;AACH"},"metadata":{},"sourceType":"module"}